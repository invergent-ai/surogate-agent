<div class="flex items-center min-w-0 gap-1">
  <!-- Left arrow -->
  <button
    (click)="scrollLeft()"
    [disabled]="!canScrollLeft()"
    class="flex-none px-1 text-gray-400 dark:text-zinc-500 hover:text-gray-600 dark:hover:text-zinc-300 disabled:opacity-20 disabled:cursor-not-allowed transition-colors"
    title="Scroll tabs left"
  >◀</button>

  <!-- Tab strip -->
  <div class="flex items-end min-w-0 gap-0.5 overflow-hidden">
    @for (tab of visibleTabs(); track tab.name; let i = $index) {
      <button
        (click)="setActive(globalIndex(i))"
        class="group flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-t-md border border-b-0 transition-colors whitespace-nowrap max-w-[140px]"
        [ngClass]="isActive(i)
          ? ['bg-white', 'dark:bg-zinc-900', 'border-gray-300', 'dark:border-zinc-600', 'text-gray-800', 'dark:text-zinc-100']
          : ['bg-gray-100', 'dark:bg-zinc-800', 'border-transparent', 'text-gray-500', 'dark:text-zinc-400', 'hover:bg-gray-50', 'dark:hover:bg-zinc-700']"
        [title]="tab.name"
      >
        <span class="truncate">{{ tabLabel(tab) }}</span>
        @if (tab.dirty) {
          <span class="text-amber-500 flex-none">●</span>
        }
        <span
          (click)="closeTab(globalIndex(i), $event)"
          class="flex-none text-gray-300 dark:text-zinc-600 hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100 leading-none"
          title="Close"
        >×</span>
      </button>
    }
  </div>

  <!-- Right arrow -->
  <button
    (click)="scrollRight()"
    [disabled]="!canScrollRight()"
    class="flex-none px-1 text-gray-400 dark:text-zinc-500 hover:text-gray-600 dark:hover:text-zinc-300 disabled:opacity-20 disabled:cursor-not-allowed transition-colors"
    title="Scroll tabs right"
  >▶</button>
</div>
